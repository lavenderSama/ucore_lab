# Lab2 report

## [练习1] first fit算法是否有进一步的改进空间
> 没有想到什么可改进的地方，就说明一下和答案中实现的不同吧
  - 答案中的实现是把每一个页都作为一个节点连入链表中，并且只将每一个block的第一个页的property置为块大小
  - 个人实现时采用的是只将每一块的第一个页作为节点加入链表，这样做的好处在于分配时可以遍历相对更少的节点便找到需要的块

## [练习2] 实现寻找虚拟地址对应的页表项
1. 如果ucore执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？
  - 读取中断向量
  - 到IDT中查找中断描述符
  - 到GDT中取得相应的段描述符
  - 特权级转换、保存现场之后执行缺页服务例程
  - 对于页访问异常，可能会进行页交换、请求新页等操作
2. 如果ucore的缺页服务例程在执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？
  - 由于ucore的异常嵌套只有1层，因此硬件应当直接中断当前程序的执行并关机

## [练习3] 释放某虚地址所在的页并取消对应二级页表项的映射
1. 数据结构Page的全局变量（其实是一个数组）的每一项与页表中的页目录项和页表项有无对应关系？如果有，其对应关系是啥？
  - 一个页目录项对应了一个Page（做为页表），一个页表项对应了一个Page
2. 如果希望虚拟地址与物理地址相等，则需要如何修改lab2，完成此事？
  - 禁用页机制
  - 固定GDT使得虚拟地址与物理地址相等